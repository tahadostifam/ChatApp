<div id="chat_container">
  <div id="sidebar">
    <div id="sidebar_headbar">
      <dropdown
        [width]="'300px'"
        [offset_top]="'30px'"
        [id]="'menu_dropdown'"
        id="menu_dropdown"
        [large_items]="true"
      >
        <a class="item">
          <span class="mdi mdi-bookmark"></span>
          Saved Messages</a
        >
        <a class="item">
          <span class="mdi mdi-cog"></span>
          Settings
        </a>
        <a class="item">
          <span class="mdi mdi-information"></span>
          ChatApp Features
        </a>
        <a class="item">
          <span class="mdi mdi-bug"></span>
          Report Bug
        </a></dropdown
      >
      <button
        id="show_menu_button"
        class="btn btn-danger btn-glass-grey rounded-full"
        #showMenuButton
        (click)="menuButtonClick()"
      >
        <span *ngIf="!search_mode" class="mdi mdi-menu"></span>
        <span class="mdi mdi-arrow-left" *ngIf="search_mode"></span>
      </button>
      <div id="search_in_chats_input">
        <input
          type="text"
          class="input-outlined rounded-full"
          ngModel
          [(ngModel)]="search_input"
          placeholder="Search"
          (focus)="searchInputFocus()"
        />
        <span class="mdi mdi-magnify"></span>
        <button
          *ngIf="search_input.trim().length > 0"
          id="clear_search_input"
          (click)="search_input = ''"
          class="btn-none"
        >
          <span class="mdi mdi-close"></span>
        </button>
      </div>
    </div>
    <div id="chats_list">
      <chat-row
        [is_online]="true"
        [active]="true"
        [title]="'[Taha.D]'"
        [last_message]="'Hi Taha'"
        [last_message_date]="'12:12'"
        [avatar]="'assets/images/avatar.jpg'"
        [unread_messages]="'1'"
      ></chat-row>
      <chat-row
        [is_online]="true"
        [title]="'[Taha.D]'"
        [last_message]="'Hi Taha'"
        [last_message_date]="'12:12'"
        [avatar]="'assets/images/avatar.jpg'"
        [unread_messages]="'1'"
      ></chat-row>

      <div id="new_chat_floating">
        <button
          (click)="this.dropdown.showDropDown('new_chat_dropdown')"
          class="btn rounded-full"
          id="floating-action-button"
        >
          <span class="mdi mdi-pen"></span>
        </button>
        <dropdown
          [width]="'240px'"
          [offset_bottom]="'55px'"
          id="new_chat_dropdown"
          [id]="'new_chat_dropdown'"
          [large_items]="false"
          [rtl]="true"
          [bottom]="true"
        >
          <a class="item">
            <span class="mdi mdi-bullhorn-outline"></span>
            New Channel</a
          >
          <a class="item">
            <span class="mdi mdi-account-multiple"></span>
            New Group</a
          >
        </dropdown>
      </div>
    </div>
    <div #searchChatsList id="search_chats_list" *ngIf="show_search_chats_list">
      <div class="chat_suggest_scroll">
        <div class="item" *ngFor="let i of [].constructor(10)">
          <div class="avatar">
            <img src="assets/images/avatar.jpg" />
          </div>
          <span class="name">`Taha`</span>
        </div>
      </div>
      <div class="search_chat_result scroll">
        <div class="item" *ngFor="let i of [].constructor(30)">
          <div class="avatar">
            <img src="assets/images/avatar.jpg" />
          </div>
          <div class="ml-10">
            <span class="name">`Taha`</span>
            <span class="caption">1 member</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="chatside">
    <div id="chatside_headbar">
      <div class="d-flex align-center">
        <div class="avatar">
          <img src="assets/images/avatar.jpg" />
        </div>
        <div class="ml-12">
          <h1 id="chat_title">[Taha.D]</h1>
          <h3 id="chat_subtitle">online</h3>
        </div>
      </div>
      <div class="d-flex align-center">
        <button
          class="btn btn-glass-grey rounded-full mr-5"
          style="font-size: 24px; padding-top: 2px"
        >
          <span class="mdi mdi-magnify"></span>
        </button>
        <div>
          <button
            (click)="this.dropdown.showDropDown('chat_view_menu')"
            class="btn btn-glass-grey rounded-full"
            style="font-size: 24px; padding-top: 2px"
          >
            <span class="mdi mdi-dots-vertical"></span>
          </button>
          <dropdown
            [width]="'250px'"
            [offset_top]="'5px'"
            id="chat_view_menu"
            [id]="'chat_view_menu'"
            [large_items]="false"
            [rtl]="true"
          >
            <a class="item">
              <span class="mdi mdi-volume-off"></span>
              Mute</a
            >
            <a class="item">
              <span class="mdi mdi-check-circle"></span>
              Select Messages</a
            >
            <a class="item item-danger">
              <span class="mdi mdi-delete"></span>
              Delete Chat</a
            >
          </dropdown>
        </div>
      </div>
    </div>
    <div id="chat_view">
      <div id="chat_view_container">
        <div id="messages_list">
          <message
            [sender]="'Taha'"
            [send_time]="'17:00 PM'"
            [my_message]="false"
            [message_type]="'text'"
            [seen_state]="'sended'"
            [text_content]="'Hey Guys'"
          ></message>
          <message
            [sender]="'Taha'"
            [send_time]="'17:00 PM'"
            [my_message]="false"
            [message_type]="'text'"
            [seen_state]="'seen'"
            [text_content]="'Hey Guys'"
            [edited]="true"
          ></message>
          <message
            [send_time]="'17:00 PM'"
            [my_message]="false"
            [message_type]="'text'"
            [seen_state]="'sending'"
            [text_content]="'Hey Guys'"
          ></message>
          <message
            [send_time]="'17:00 PM'"
            [my_message]="true"
            [message_type]="'text'"
            [seen_state]="'sending'"
            [text_content]="'سلام سلام
خوبید؟ 
چطورید؟'"
          ></message>
        </div>
        <div id="send_message_section">
          <div id="send_text_message_input">
            <div id="send_message_section_group">
              <button class="btn btn-glass-grey rounded-full __center__">
                <span class="mdi mdi-emoticon-outline"></span>
              </button>
              <div type="text" class="text_input __center__" dir="auto">
                <textarea
                  [(ngModel)]="send_text_message_input"
                  dir="auto"
                  rows="1"
                  placeholder="Message"
                  oninput='this.style.height = ""; this.style.height = this.scrollHeight + "px"'
                ></textarea>
              </div>
              <button class="btn btn-glass-grey rounded-full __center__">
                <span class="mdi mdi-paperclip"></span>
              </button>
            </div>
          </div>
          <button
            id="send_voice_button"
            class="btn btn-glass-grey rounded-full btn-large"
          >
            <span
              [class.show]="send_text_message_input.trim().length == 0"
              class="mdi-animated mdi mdi-microphone"
            ></span>
            <span
              [class.show]="send_text_message_input.trim().length > 0"
              class="mdi-animated mdi-primary mdi mdi-send"
            ></span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
